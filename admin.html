<html>
  <head>
    <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-database.js"></script>
    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyBB00grLIfvhq7EEQV6qiZUZuayP4-GoAg",
        authDomain: "blog-25253.firebaseapp.com",
        databaseURL: "https://blog-25253-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "blog-25253",
        storageBucket: "blog-25253.appspot.com",
        messagingSenderId: "906101390805",
        appId: "1:906101390805:web:871c51f2486921f443115c",
        measurementId: "G-MY3P2TWN4L"
      };

      firebase.initializeApp(firebaseConfig);
      var database = firebase.database();

      function submitLink() {
      var linkName = document.getElementById("linkName").value;
      var linkUrl = document.getElementById("linkUrl").value;

      if (!linkName || !linkUrl) {
         document.getElementById("errorMessage").innerHTML = "Both the link name and URL are required";
      return;
      }

      document.getElementById("errorMessage").innerHTML = "";
      document.getElementById("successMessage").innerHTML = "";
      var linksRef = database.ref("links");
      var idRef = database.ref("lastId");

      linksRef.orderByChild("id").limitToLast(1).once("value", function(snapshot) {
        var newId = (snapshot.val() && snapshot.val().id) || 0;
        idRef.set({ id: newId + 1 });

      linksRef.child(linkName).set({
        id: newId,
        url: linkUrl,
        timestamp: firebase.database.ServerValue.TIMESTAMP
      });

       document.getElementById("successMessage").innerHTML = "Link submitted successfully";
       document.getElementById("linkName").value = "";
       document.getElementById("linkUrl").value = "";
     });
   }
      function clearForm() {
        document.getElementById("errorMessage").innerHTML = "";
        document.getElementById("successMessage").innerHTML = "";
      }
      
       function clearName() {
        document.getElementById("linkName").value = "";
      }

      function clearUrl() {
        document.getElementById("linkUrl").value = "";
      }
    </script>
  </head>
  <body>
    <input type="text" id="linkName" placeholder="Link Name" onfocus="clearForm();clearName();">
    <input type="text" id="linkUrl" placeholder="Link URL" onfocus="clearForm();clearUrl();">
    <div id="errorMessage" style="color: red;"></div>
    <div id="successMessage" style="color: green;"></div>
    <button onclick="submitLink()">Submit</button>
  </body>
</html>
