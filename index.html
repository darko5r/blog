<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>My Github Pages Website</title>
  </head>
  <body>
    <h1>My Links</h1>
    <ul id="links-list"></ul>
    <h1>My Posts</h1>
    <table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Author</th>
          <th>Content</th>
          <th>Date</th>
          <th>Category</th>
        </tr>
      </thead>
      <tbody id="post-table-body"></tbody>
    </table>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-database.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      // Initialize Firebase
      var firebaseConfig = {
        apiKey: "YOUR_API_KEY",
        authDomain: "YOUR_AUTH_DOMAIN",
        databaseURL: "YOUR_DATABASE_URL",
        projectId: "YOUR_PROJECT_ID",
        storageBucket: "YOUR_STORAGE_BUCKET",
        messagingSenderId: "YOUR_SENDER_ID",
        appId: "YOUR_APP_ID",
        measurementId: "YOUR_MEASUREMENT_ID"
      };
      firebase.initializeApp(firebaseConfig);

      // Reference to the links in the Firebase Database
      var linksRef = firebase.database().ref("links");

      // Read the links from the Firebase Database
      linksRef.on("value", function(snapshot) {
        // Get the links data
        var links = snapshot.val();

        // Loop through the links and add them to the list
        $.each(links, function(key, link) {
          $("#links-list").append("<li><a href='" + link.url + "'>" + key + "</a></li>");
        });
      });

      // Reference to the posts in the Firebase Database
      var postsRef = firebase.database().ref("posts");

      // Read the posts from the Firebase Database
      postsRef.on("value", function(snapshot) {
        // Get the posts data
        var posts = snapshot.val();

        // Loop through the posts and add them to the table
        $.each(posts, function(postId, post) {
          var row = $("<tr>");
          $("<td>").text(post.postTitle).appendTo(row);
          $("<td>").text(post.postAuthor).appendTo(row);
          $("<td>").text(post.postContent).appendTo(row);
          $("<td>").text(post.postDate).appendTo(row);
          var categoryRef = firebase.database().ref("categories/" + post.postCategory);
          categoryRef.once("value", function(snapshot) {
            var category = snapshot.val();
            $("<td>").text(category.categoryName).appendTo(row);
          });
          row.appendTo("#post-table-body");
        });
      });
    </script>
  </body>
</html>
